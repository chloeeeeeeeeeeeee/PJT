ìš°ë¦¬ë‹ˆë¼
======================

# FrontEnd

## 0. Why React?

> ì´ë¶€ë¶„ì€ ì¡°ê¸ˆ ë” ì •ë¦¬ë¥¼ í•´ë´ì•¼í• ë“¯

0. ê·¸ëƒ¥ ë¦¬ì•¡íŠ¸í•´ë³´ê³  ì‹¶ì–´ì„œ í•˜ìê³  í•œê±´ë°

1. ReactëŠ” JSX = JavaScript XML, VueëŠ” Template
   1. `const example=<h1>This is Example</h1>`
   2. ê°™ì€ í˜ì´ì§€ì´ì§€ë§Œ ì‚¬ìš©ìì— ë”°ë¼ ì¡°ê¸ˆì€ ë‹¤ë¥¸ í™”ë©´ì„ ì¶œë ¥í•´ì•¼í•œë‹¤.
   3. Vueì˜ ê²½ìš° ì—¬ëŸ¬ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼(.vue íŒŒì¼) ë§Œë“¤ì–´ì„œ ë°”ê¿”ê°€ë©° ë³´ì—¬ì¤˜ì•¼í•˜ì§€ë§Œ ReactëŠ” í•˜ë‚˜ì˜ íŒŒì¼ì—ì„œ JSXë¥¼ í™œìš©í•´ì„œ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥í•˜ë‹¤
2. Reactì˜ ê¸°ë³¸ í‹€ ìì²´ê°€ CSSì˜ êµ¬ì¡°í™”ë¥¼ ì§€í–¥í•œë‹¤.
   1. VueëŠ” í•œ íŒŒì¼ì— html, css, jsê°€ ë‹¤ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì§€ë§Œ, reactëŠ” ì™¸ë¶€ íŒŒì¼ì„ import í•œë‹¤
   2. ì´ëŠ” ì½”ë“œ ê´€ë¦¬ì— ë„ì›€ì´ ëœë‹¤ê³  í•œë‹¤.
3. JSì˜ í™œìš©ë©´ì—ì„œ Reactê°€ ìš°ì›”í•˜ë©° ì„œë²„ì™€ ë¶„ë¦¬ëœ ì‘ì—… ê°€ëŠ¥
   1. í•„ìš” ê¸°ëŠ¥ êµ¬ì¶•ì— ë„ì›€ì´ ëœë‹¤.
4. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” Reactì—ì„œ í›¨ì”¬ ì˜ëœë‹¨ë‹¤. ìš°ë¦¬ëŠ” ì•ˆì“°ê¸´ í–ˆì§€ë§Œ ë‹¤ìŒ í”Œì ì—ì„ ...
5. ì™¸ë¶€ ê°ì²´(ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, ì•„ì„í¬íŠ¸)ì™€ ì—¬ëŸ¬ê°€ì§€ ìƒíƒœë³€í™”ë¥¼ ì¡°ì‘ ë° ê´€ë¦¬í•˜ê¸°ì—” Reactê°€ ë” ì•ˆì •ì 


## 1. FrontEnd ê¸°ë³¸ ì„¤ì •

[![npm](README.assets/npm-6.14.11-brightgreen)](https://www.npmjs.com/get-npm)[![node](README.assets/node-14.15.1-brightgreen)](https://nodejs.org/en/download/)

### 1.1 .env ì„¤ì •

#### a102_fe/.env

```
REACT_APP_API_URL={ì„œë²„ URL}
REACT_APP_NAVER_MAP_CLIENT_ID={ë„¤ì´ë²„ ì§€ë„ CLIENT ID}
REACT_APP_KAKAO_MAP_APP_KEY={ë„¤ì´ë²„ ì§€ë„ APP KEY}
REACT_APP_KAKAO_LOGIN_APP_KEY={ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ APP KEY}
REACT_APP_IMPORT_INIT_KEY={ì•„ì„í¬íŠ¸ INIT KEY}
REACT_APP_STORE_TOKEN={í…ŒìŠ¤íŠ¸ìš© ë§¤ì¥ JWT ê°’}
```

### 1.2 npm ì„¤ì¹˜

`npm install`

- í•´ë‹¹ ëª…ë ¹ì–´ë¡œ `react`, `reactstrap`ì„ í¬í•¨í•œ í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ

### 1.3 FrontEnd ì‹¤í–‰

#### ê°œë°œìš© ì‹¤í–‰

`npm run start`, `npm start`

- React ê°œë°œìš© ì‹¤í–‰. `localhost:3000`ìœ¼ë¡œ ì‚¬ì´íŠ¸ í™•ì¸ ê°€ëŠ¥

#### ë°°í¬ìš© ì‹¤í–‰

`npm run build`, `npm build`

- React ë°°í¬ìš© ì‹¤í–‰
  - build í´ë”ê°€ ë§Œë“¤ì–´ì§€ë©° í•´ë‹¹ í´ë”ë¥¼ ì„œë²„ì— ë„£ì–´ ë°°í¬



## 2. FrontEnd í´ë” êµ¬ì¡°

> ì´ ë¶€ë¶„ì€ ì§€ì›Œë„ ë ë“¯... TMIì¸ë“¯...

- node_modules : node ëª¨ë“ˆ í´ë”ë¡œ `npm install`ì‹œ ìƒì„±ëœë‹¤.
- public : React ê¸°ë³¸ í´ë”ë¡œ `public/index.html`ì„ í†µí•´ SPA ë Œë”ë§

### src í´ë” êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚assets
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”ƒ â”£ ğŸ“‚naverAuth
 â”ƒ â”ƒ â”ƒ â”— ë„¤ì´ë²„ ë¡œê·¸ì¸ ê´€ë ¨ ì´ë¯¸ì§€ íŒŒì¼
 â”ƒ â”ƒ â”— í˜ì´ì§€ ë‚´ í•„ìš” ì´ë¯¸ì§€ íŒŒì¼
 â”ƒ â”— ğŸ“‚scss
 â”ƒ â”ƒ â”£ ğŸ“‚myscss
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚account
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— íšŒì› ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚layout
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— header, footer scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚main
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ì‚¬ìš©ì ë³„ main í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”— ğŸ“‚pages
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚account
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— íšŒì› ê´€ë ¨ í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚main
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— main í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚payment
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ê²°ì œ í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚qna
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— QnA í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚store
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ê°€ê²Œ ìƒì„¸ í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚support
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— í›„ì› í˜ì´ì§€ scss íŒŒì¼
 â”ƒ â”ƒ â”— ğŸ“‚theme
 â”ƒ â”ƒ â”ƒ â”— ì „ì²´ ì ìš© ìŠ¤íƒ€ì¼ scss íŒŒì¼
 â”£ ğŸ“‚components
 â”ƒ â”£ ğŸ“‚account
 â”ƒ â”ƒ â”— íšŒì› ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚layout
 â”ƒ â”ƒ â”— header, footer js íŒŒì¼
 â”ƒ â”£ ğŸ“‚main
 â”ƒ â”ƒ â”— ì‚¬ìš©ì ë³„(ì•„ë™, í›„ì›ì, ë§¤ì¥ê´€ë¦¬ì) ì»´í¬ë„ŒíŠ¸ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚payment
 â”ƒ â”ƒ â”— ê²°ì œ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚store
 â”ƒ â”ƒ â”— ê°€ê²Œ ìƒì„¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ js íŒŒì¼
 â”ƒ â”— ğŸ“‚support
 â”ƒ â”ƒ â”— í›„ì› ì»´í¬ë„ŒíŠ¸ js íŒŒì¼
 â”£ ğŸ“‚pages
 â”ƒ â”£ ğŸ“‚account
 â”ƒ â”ƒ â”— íšŒì› ê´€ë ¨ í˜ì´ì§€ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚main
 â”ƒ â”ƒ â”— ì‚¬ìš©ì ë³„(ì•„ë™, í›„ì›ì, ë§¤ì¥ê´€ë¦¬ì) í˜ì´ì§€ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚payment
 â”ƒ â”ƒ â”— ê²°ì œ í˜ì´ì§€ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚qna
 â”ƒ â”ƒ â”— QnA í˜ì´ì§€ js íŒŒì¼
 â”ƒ â”£ ğŸ“‚store
 â”ƒ â”ƒ â”— ê°€ê²Œ ìƒì„¸ í˜ì´ì§€ js íŒŒì¼
 â”ƒ â”— ğŸ“‚support
 â”ƒ   â”— í›„ì› í˜ì´ì§€ js íŒŒì¼
 â”£ ğŸ“œApp.css
 â”£ ğŸ“œApp.js
 â”£ ğŸ“œApp.test.js
 â”£ ğŸ“œindex.js
 â”£ ğŸ“œindex.scss
 â”— ...
```

## 3. ì„¤ì •ëœ URL ì£¼ì†Œ

> App.jsì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 3.1 ì•„ë™ URL

| URL   | ê´€ë ¨ íŒŒì¼                      | ë¹„ê³                                 |
| ----- | ------------------------------ | ----------------------------------- |
| /main | /pages/main/childmain.js       | ì•„ë™ìš© ë©”ì¸ í™”ë©´                    |
| /map  | /pages/support/childsupport.js | í›„ì›ëœ ë§¤ì¥ ìœ„ì¹˜, ë¦¬ìŠ¤íŠ¸, í˜„í™© í™•ì¸ |

### 3.2 í›„ì›ì URL

| URL                          | ê´€ë ¨ íŒŒì¼                                | ë¹„ê³                                |
| ---------------------------- | ---------------------------------------- | ---------------------------------- |
| /                            | /pages/main/main.js                      | í›„ì›ì ë©”ì¸ í™”ë©´                   |
| /auth                        | /pages/account/authentication.js         | ë¡œê·¸ì¸                             |
| /naver                       | /components/account/naverAuthCallback.js | ë„¤ì´ë²„ ë¡œê·¸ì¸                      |
| /signout                     | /pages/account/signout.js                | ë¡œê·¸ì•„ì›ƒ                           |
| /support                     | /pages/support/support.js                | í›„ì› ê°€ëŠ¥ ë§¤ì¥ ì§€ë„ ë° ì •ë³´ ë¦¬ìŠ¤íŠ¸ |
| /storedetailsupport/:storeId | /pages/support/storeDetail.js            | ì„ íƒëœ 1ê°œ ë§¤ì¥ ì •ë³´               |
| /qnacreate                   | /pages/qna/qnacreate.js                  | QnA ì‘ì„±                           |
| /qna                         | /pages/qna/qnalist.js                    | ì „ì²´ QnA ë¦¬ìŠ¤íŠ¸                    |
| /qnadetail                   | /pages/qna/qnadetail.js                  | ì„ íƒëœ 1ê°œì˜ QnA ì½ê¸°              |
| /qnaupdate                   | /pages/qna/qnaupdate.js                  | ì„ íƒëœ 1ê°œì˜ QnA ìˆ˜ì •              |
| /payment                     | /pages/payment/payment.js                | ê²°ì œ í˜ì´ì§€                        |
| /paymentCheck                | /pages/payment/kakaoPaymentCheck.js      | ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ ì—°ê²°               |
| /paymentSuccess              | /pages/payment/paymentSuccess.js         | ê²°ì œ ì„±ê³µ í˜ì´ì§€                   |
| /profile                     | /pages/account/profile.js                | ë¡œê·¸ì¸ í•œ íšŒì› í”„ë¡œí•„, íƒ€ì„ë¼ì¸    |

### 3.3 ë§¤ì¥ ê´€ë¦¬ì URL

> ê´€ë¦¬ì ë¡œê·¸ì¸ì„ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

| URL         | ê´€ë ¨ íŒŒì¼                  | ë¹„ê³                                   |
| ----------- | -------------------------- | ------------------------------------- |
| /storeAdmin | /pages/store/storeadmin    | ë§¤ì¥ ì •ë³´, ìœ„ì¹˜, ë©”ë‰´, í›„ì› í˜„í™© í™•ì¸ |
| /menucreate | /pages/store/menucreate.js | í•´ë‹¹ ë§¤ì¥ ë©”ë‰´ ì¶”ê°€                   |
| /menuupdate | /pages/store/menuupdate.js | í•´ë‹¹ ë§¤ì¥ ë©”ë‰´ ìˆ˜ì •                   |









# í‚¤ì˜¤ìŠ¤í¬ ì‚¬ìš© ë°©ë²•

## 1. í‚¤ì˜¤ìŠ¤í¬ ì‹¤í–‰ ì„¤ëª…

### 1.1. ì‹¤í–‰ í™˜ê²½

	Windows 10 64bit
	Python 3.9

### 1.2. ì‚¬ìš© íŒ¨í‚¤ì§€

	ì‹¤í–‰ ì „ ì•„ë˜ì˜ íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.

| íŒ¨í‚¤ì§€ ì´ë¦„   |      ë²„ì „ |
| :------------ | --------: |
| PyQt5         |    5.15.2 |
| PyQt5-sip     |    12.8.1 |
| PyQtWebEngine |    5.15.2 |
| certifi       | 2020.12.5 |
| chardet       |     4.0.0 |
| idna          |      2.10 |
| pyserial      |       3.5 |
| requests      |    2.25.1 |
| urllib3       |    1.26.3 |

	>> pip install PyQt5 PyQtWebEngine requests pyserial

### 1.3. NFC ëª¨ë“ˆ

#### 1.3.1 NFC ëª¨ë“ˆ ì‚¬ìš© ì‹œ

> PN532 NFC ëª¨ë“ˆ ì‚¬ìš© ê¸°ì¤€
>
> * I2C í†µì‹ 
>
>   ```
>   ì•„ë‘ì´ë…¸ì™€ PN532 ëª¨ë“ˆì˜ I2C í†µì‹ ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì—°ê²°í•©ë‹ˆë‹¤.(ìœ ë™ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥)
>   ```
>
> >| ì•„ë‘ì´ë…¸ PIN |   ëª¨ë“ˆ PIN |
> >| :----------- | ---------: |
> >| SDA          |        SDA |
> >| SCL          |        SCL |
> >| Pin 8        | RST(Reset) |
> >| Pin 9        |        IR0 |
> >| GND          |        GND |
> >| 5V           |         5V |
>
> * ë°”ì´ë„ˆë¦¬ ì—…ë¡œë“œ
>
>   ```
>   ì•„ë˜ì˜ ë§í¬ì—ì„œ Arduino IDEë¥¼ ë‹¤ìš´ë¡œë“œ í›„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
>   ì„¤ì¹˜ í›„ ì•„ë‘ì´ë…¸ë¥¼ ì—°ê²°í•˜ê³  [iso14443a_uid.ino]ì„ ì»´íŒŒì¼ í›„ ì—…ë¡œë“œ í•©ë‹ˆë‹¤.
>   ```
>
> ><https://www.arduino.cc/>

#### 1.3.2 NFC ëª¨ë“ˆ ë¯¸ì‚¬ìš© ì‹œ

> arduinoSerial.pyì˜ testmode ë³€ìˆ˜ ì„¤ì •ì„ í†µí•´ ì¹´ë“œ íƒœê·¸ë¥¼ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> * testmode = testCreditCardId
>
>   ```
>   ì¹´ë“œ íƒœê·¸ ì„ íƒ ì‹œ ì¼ë°˜ ì‹ ìš©ì¹´ë“œê°€ íƒœê·¸ ëœ ìƒíƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤.
>   ```
>
> * testmode = testGdreamCardId
>
>   ```
>   ì¹´ë“œ íƒœê·¸ ì„ íƒ ì‹œ í›„ì›ëœ ìŒì‹ì„ ë¨¹ê¸° ìœ„í•œ Gdream ì¹´ë“œê°€ íƒœê·¸ ëœ ìƒíƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤.
>   ```

#### 1.3.3 NFC ëª¨ë“ˆ ì—°ê²° ì‹¤íŒ¨

> ê¸°ë³¸ USB Port numberëŠ” "COM3"ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
> ë§Œì•½ ì—°ê²° ì‹œì—ë„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´, ì•„ë˜ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.
>
> * PORT ë³€ê²½
>
>   ```
>   arduinoSerial.pyì˜ PORT ë³€ìˆ˜ ì„¤ì •ì„ í†µí•´ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
>   ì•„ë‘ì´ë…¸ê°€ ì—°ê²° ëœ USB í¬íŠ¸ ë²ˆí˜¸ë¥¼ í™•ì¸(ì•„ë‘ì´ë…¸ IDEë¥¼ í†µí•´ ì‰½ê²Œ í™•ì¸ ê°€ëŠ¥) í›„ í•´ë‹¹ í¬íŠ¸ì˜ ì´ë¦„ì„
>   arduinoSerial.pyì˜ PORT ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.
>   Ex) PORT = "COM3"
>   ```

### 1.4. í‚¤ì˜¤ìŠ¤í¬ ì‹¤í–‰

> í‚¤ì˜¤ìŠ¤í¬ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
>
> ```
> python et.py
> ```
>
> ìë™ ìµœëŒ€í™”ë¥¼ í•˜ê³ ì‹¶ìœ¼ë©´ et.pyì—ì„œ class etì˜ __init__ í•¨ìˆ˜ ë‚´ë¶€ì— self.showMaximized()ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
>
> <pre>
> <code>
> ```
> class et(QMainWindow, Ui_mainWindow):  
> def __init__(self):  
> super().__init__()  
> self.ui = Ui_mainWindow()  
> self.ui.setupUi(self)   
> self.showMaximized() <<< ì¶”ê°€í•´ì£¼ì„¸ìš”.
> ```
> </code>
> </pre>

### 1.5. Gdream ì¹´ë“œ ë“±ë¡

> ì§€ë“œë¦¼ ì¹´ë“œ ë“±ë¡ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ì„¸ìš”.
>
> ```
> arduinoSerial.pyì— print(self.line)ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
> ```
>
> <pre>
> <code>
> ```
> if self.exitFlag == 0:  
> # bytes -> str í˜• ë³€í™˜  
> self.line = str(self.line)  
> # str íŒŒì‹±  
> # "b'0x00000000H\\r\\n'" -> "0x00000000"  
> self.line = self.line.split("\'")[1].split("H")[0]  
> print(self.line) <<< ì¶”ê°€í•´ì£¼ì„¸ìš”
> # rfidë¥¼ í†µí•´ ë°›ì•„ ì˜¨ card idë¥¼ ì „ì†¡  
> self.notifyProgress.emit(self.line)
> ```
> </code>
> </pre>
>
>
> ì¶”ê°€ í›„ í‚¤ì˜¤ìŠ¤í¬ì˜ ì¹´ë“œ ê²°ì œ ë‹¨ê³„ì—ì„œ ë“±ë¡ì„ ì›í•˜ëŠ” ì¹´ë“œë¥¼ íƒœê·¸í•˜ë©´
> ì½˜ì†”ì°½ì— ì¹´ë“œ ë²ˆí˜¸ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.
> Ex) 0xAF131025
>
> ì´í›„ ì•„ë˜ì™€ ê°™ì€ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
>
> ```
> https://ooriggini.me:8080/app/payment/cardcreate?cardNumber=0xAF131025&cardType=gdream
> ```

